Version 4
SHEET 1 880 680
WIRE 576 -160 528 -160
WIRE 736 -160 640 -160
WIRE 528 -64 528 -160
WIRE 576 -64 528 -64
WIRE 736 -64 736 -160
WIRE 736 -64 656 -64
WIRE 528 64 528 -64
WIRE 576 64 528 64
WIRE 736 80 736 -64
WIRE 736 80 640 80
WIRE 48 96 -16 96
WIRE 576 96 560 96
WIRE 560 144 560 96
WIRE 48 192 -32 192
WIRE 256 192 240 192
WIRE -32 288 -32 192
WIRE 256 320 256 192
FLAG -32 288 0
FLAG 240 96 DiodeOut
FLAG 256 320 0
FLAG 608 112 0
FLAG 608 48 5V
FLAG 736 80 Vo
FLAG 160 -96 5V
FLAG 560 144 Voff
FLAG 272 -96 Voff
FLAG 272 -16 0
FLAG 160 -16 0
FLAG -16 16 VLED
FLAG -224 0 VLED
FLAG -224 80 0
FLAG 448 64 DiodeOut
SYMBOL Optos\\4N26 144 160 R0
SYMATTR InstName U1
SYMBOL res -32 0 R0
SYMATTR InstName R1
SYMATTR Value 220
SYMBOL OpAmps\\UniversalOpamp 608 80 R0
SYMATTR InstName U2
SYMBOL res 672 -80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 100k
SYMBOL cap 640 -176 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 20p
SYMBOL voltage 160 -112 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 5
SYMBOL voltage 272 -112 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 0.05
SYMBOL voltage -224 -16 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value PULSE(1 7 0 1 0 0 1 1)
SYMBOL res 544 48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 100
TEXT 504 248 Left 2 !;op
TEXT 504 280 Left 2 !.tran 0 1s 0s
